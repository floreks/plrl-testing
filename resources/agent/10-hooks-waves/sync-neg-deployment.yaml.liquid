apiVersion: apps/v1
kind: Deployment
metadata:
  name: hooks-waves-sync-neg
  namespace: testing
  annotations:
    deployment.plural.sh/sync-hook: sync
    deployment.plural.sh/sync-wave: "-1"
  labels:
    scenario: hooks-waves
    phase: sync
    app: hooks-waves
    managed-by: plural-test
spec:
  replicas: 1
  selector:
    matchLabels:
      app: hooks-waves
      component: sync-neg
  template:
    metadata:
      labels:
        app: hooks-waves
        component: sync-neg
    spec:
      containers:
      - name: neg
        image: quay.io/prometheus/busybox:latest
        command: ["/bin/sh","-c","echo sync wave -1; sleep 3600"]
